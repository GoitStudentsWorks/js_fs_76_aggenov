import { createBookMarkup } from './Markup/CardMarkup';

const savedBooks = [
  {
    _id: '642fd89ac8cf5ee957f122da',
    list_name: 'Paperback Nonfiction',
    date: '2023-04-07T08:46:57.000Z',
    age_group: '',
    amazon_product_url:
      'http://www.amazon.com/The-Body-Keeps-Score-Healing/dp/0670785938?tag=NYTBSREV-20',
    article_chapter_link: '',
    author: 'Bessel van der Kolk',
    book_image:
      'https://storage.googleapis.com/du-prd/books/images/9780670785933.jpg',
    book_image_width: 128,
    book_image_height: 193,
    book_review_link:
      'https://www.nytimes.com/2018/10/18/books/review/how-to-rewire-your-traumatized-brain.html',
    book_uri: 'nyt://book/e3e33e9d-0e67-5fec-b0d2-2ecddc38ce0e',
    contributor: 'by Bessel van der Kolk',
    contributor_note: '',
    created_date: '2023-04-05 22:05:27',
    description:
      'How trauma affects the body and mind, and innovative treatments for recovery.',
    first_chapter_link: '',
    price: '0.00',
    primary_isbn10: '0143127748',
    primary_isbn13: '9780143127741',
    publisher: 'Penguin',
    rank: 1,
    rank_last_week: 1,
    sunday_review_link: '',
    title: 'THE BODY KEEPS THE SCORE',
    updated_date: '2023-04-05 22:10:17',
    weeks_on_list: 232,
    buy_links: [
      {
        name: 'Amazon',
        url: 'http://www.amazon.com/The-Body-Keeps-Score-Healing/dp/0670785938?tag=NYTBSREV-20',
      },
      {
        name: 'Apple Books',
        url: 'https://goto.applebooks.apple/9780143127741?at=10lIEQ',
      },
      {
        name: 'Barnes and Noble',
        url: 'https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9780143127741',
      },
      {
        name: 'Books-A-Million',
        url: 'https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FTHE%252BBODY%252BKEEPS%252BTHE%252BSCORE%252FBessel%252Bvan%252Bder%252BKolk%252F9780143127741&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DTHE%252BBODY%252BKEEPS%252BTHE%252BSCORE%252BBessel%252Bvan%252Bder%252BKolk',
      },
      {
        name: 'Bookshop',
        url: 'https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9780143127741&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DTHE%2BBODY%2BKEEPS%2BTHE%2BSCORE',
      },
      {
        name: 'IndieBound',
        url: 'https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9780143127741%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DTHE%2BBODY%2BKEEPS%2BTHE%2BSCORE%2BBessel%2Bvan%2Bder%2BKolk%26aff%3DNYT',
      },
    ],
    __v: 0,
  },
  {
    _id: '642fd89ac8cf5ee957f122db',
    list_name: 'Paperback Nonfiction',
    date: '2023-04-07T08:46:57.000Z',
    age_group: '',
    amazon_product_url: 'https://www.amazon.com/dp/0525657746?tag=NYTBSREV-20',
    article_chapter_link: '',
    author: 'Michelle Zauner',
    book_image:
      'https://storage.googleapis.com/du-prd/books/images/9780525657743.jpg',
    book_image_width: 338,
    book_image_height: 500,
    book_review_link: '',
    book_uri: 'nyt://book/520cb070-10ce-5d43-9b0c-e77f57d84a8d',
    contributor: 'by Michelle Zauner',
    contributor_note: '',
    created_date: '2023-04-05 22:05:27',
    description:
      'The daughter of a Korean mother and Jewish American father, and leader of the indie rock project Japanese Breakfast, describes creating her own identity after losing her mother to cancer.',
    first_chapter_link: '',
    price: '0.00',
    primary_isbn10: '1984898957',
    primary_isbn13: '9781984898951',
    publisher: 'Vintage',
    rank: 2,
    rank_last_week: 0,
    sunday_review_link: '',
    title: 'CRYING IN H MART',
    updated_date: '2023-04-05 22:10:17',
    weeks_on_list: 1,
    buy_links: [
      {
        name: 'Amazon',
        url: 'https://www.amazon.com/dp/0525657746?tag=NYTBSREV-20',
      },
      {
        name: 'Apple Books',
        url: 'https://goto.applebooks.apple/9781984898951?at=10lIEQ',
      },
      {
        name: 'Barnes and Noble',
        url: 'https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781984898951',
      },
      {
        name: 'Books-A-Million',
        url: 'https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FCRYING%252BIN%252BH%252BMART%252FMichelle%252BZauner%252F9781984898951&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DCRYING%252BIN%252BH%252BMART%252BMichelle%252BZauner',
      },
      {
        name: 'Bookshop',
        url: 'https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781984898951&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DCRYING%2BIN%2BH%2BMART',
      },
      {
        name: 'IndieBound',
        url: 'https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781984898951%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DCRYING%2BIN%2BH%2BMART%2BMichelle%2BZauner%26aff%3DNYT',
      },
    ],
    __v: 0,
  },
];

const shoppingList = document.querySelector('.shopping-cart');
const emptyList = document.querySelector('.empty-list');

// const URL = 'https://books-backend.p.goit.global/books/{id}';
// Отримуємо збережені у localStorage книги користувача

/* максим уже прописал отличные функции для этих целей в localStorageAdd.js */

// const dataBooks = JSON.parse(localStorage.getItem('LOCAL_KEY')) || [];
// console.log(dataBooks);

function renderShoppingList(BooksArray) {
  if (Array.isArray(BooksArray)) {
    // проходимся мапом по каждому объекту из списка
    const cardMarkup = BooksArray.map(createBookMarkup).join(' ');

    shoppingList.insertAdjacentHTML('beforeend', cardMarkup);

    // shoppingList.addEventListener('click', removeCardMarkup);
  }

  // не люблю элсы
  // else {
  //   shoppingList.classList.add('visually-hidden');
  //   emptyList.classList.remove('visually-hidden');
  // }
}

renderShoppingList(savedBooks);

//   async function removeCardMarkup(event) {
//     if (event.target.dataset.action !== 'delete') {
//       return;
//     }
// }
